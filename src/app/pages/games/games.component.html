<div class="container games-page">
  <page-header-games></page-header-games>
  <div class="games-table mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="mat-table">
      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Title</th>
        <td mat-cell *matCellDef="let element" (click)="navigateToGame(element)">
          <a (click)="navigateToGame(element)">{{ element.title }}</a>
        </td>
      </ng-container>

      <!-- Publisher Column -->
      <ng-container matColumnDef="publisher">
        <th mat-header-cell *matHeaderCellDef>Publisher</th>
        <td mat-cell *matCellDef="let element">{{ element.publisher }}</td>
      </ng-container>

      <!-- Designers Column -->
      <ng-container matColumnDef="designers">
        <th mat-header-cell *matHeaderCellDef>Designers</th>
        <td mat-cell *matCellDef="let element">{{ element.designers.join(", ") }}</td>
      </ng-container>

      <!-- Year Published Column -->
      <ng-container matColumnDef="year_published">
        <th mat-header-cell *matHeaderCellDef>Year Published</th>
        <td mat-cell *matCellDef="let element">{{ element.year_published }}</td>
      </ng-container>

      <!-- Number of Players Column -->
      <ng-container matColumnDef="number_of_players">
        <th mat-header-cell *matHeaderCellDef>Number of Players</th>
        <td mat-cell *matCellDef="let element">{{ element.number_of_players }}</td>
      </ng-container>

      <!-- Playtime Column -->
      <ng-container matColumnDef="playtime">
        <th mat-header-cell *matHeaderCellDef>Playtime</th>
        <td mat-cell *matCellDef="let element">{{ element.playtime }}</td>
      </ng-container>

      <!-- Age Range Column -->
      <ng-container matColumnDef="age_range">
        <th mat-header-cell *matHeaderCellDef>Age Range</th>
        <td mat-cell *matCellDef="let element">{{ element.age_range }}</td>
      </ng-container>

      <!-- Game Type Mechanics Column -->
      <ng-container matColumnDef="game_type_mechanics">
        <th mat-header-cell *matHeaderCellDef>Game Type Mechanics</th>
        <td mat-cell *matCellDef="let element">{{ element.game_type_mechanics.join(", ") }}</td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">{{ element.description }}</td>
      </ng-container>

      <!-- Rating Average Score Column -->
      <ng-container matColumnDef="rating_average_score">
        <th mat-header-cell *matHeaderCellDef>Average Ratings</th>
        <td mat-cell *matCellDef="let element">{{ element.average_rating }}</td>
      </ng-container>

      <!-- Expansion Packs Sequels Column -->
      <ng-container matColumnDef="expansion_packs_sequels">
        <th mat-header-cell *matHeaderCellDef>Expansion Packs Sequels</th>
        <td mat-cell *matCellDef="let element">{{ element.expansion_packs_sequels.join(", ") }}</td>
      </ng-container>

      <!-- Rules URL Column -->
      <ng-container matColumnDef="rules_link">
        <th mat-header-cell *matHeaderCellDef>Rules</th>
        <td mat-cell *matCellDef="let element">
          @if (element.rules_link) {
            <a [href]="element.rules_link" target="_blank">View Rules</a>
          } @else {
            ---
          }
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[10, 25, 100]" showFirstLastButtons></mat-paginator>
  </div>
</div>
